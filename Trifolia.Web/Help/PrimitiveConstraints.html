

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Professional Edition 6.5.0.399">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Primitive Constraints</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="">



  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Primitive Constraints">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Primitive Constraints" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="Trifolia Workbench" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.7/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>Trifolia Workbench</h1>
    
  </header>

  <nav class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close"> 
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="PrimitiveConstraints"
		  data-hnd-context="7"
		  data-hnd-title="Primitive Constraints"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="Tutorials.html">Tutorials</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group-xs" role="group"><a class="btn btn-default" href="Tutorials.html" title="Tutorials" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="FormattingText.html" title="Formatting Text" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="BrowseImplementationGuides.html" title="Implementation Guides" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Primitive Constraints</h2>

            <div class="main-content">
                
<p></p>
<p class="rvps2"><span class="rvts6">Schematron files are used to validate the content/values of codes and OIDs within an IG by compiling a series of xml rule assertions. Trifolia produces an exportable Schematron file for each IG based on template constraints defined by the Trifolia user. While Trifolia can generate/export Schematron for basic IG constraints, more complex IG architecture may require that custom prose and/or Schematron rules be created in addition to Trifolia’s automatically generated prose/Schematron. Every primitive requires custom Schematron to be defined by the user because Trifolia does not have the computable information about the constraint to automatically generate the Schematron for it. Computable constraints </span><span class="rvts30">may </span><span class="rvts6">also have custom Schematron, but it is not usually necessary.</span></p>
<h2 class="rvps6"><span class="rvts0"><span class="rvts20">SHALL primitive within a MAY primitive</span></span></h2>
<p class="rvps2"><span class="rvts6">An issue within Trifolia to be aware of is for the case where a MAY primitive on a template that contains a SHALL primitive.</span></p>
<p class="rvps2"><span class="rvts6">Schematron is expected to enforce the SHALL primitive in every instance where the MAY constraint is present. In other words, when MAY primitive is found to be present, the Schematron is expected to subsequently enforce that the SHALL primitive does not break the rule as specified. </span></p>
<p class="rvps2"><span class="rvts6">The SHALL primitive is enforced (as expected) in cases when the MAY primitive constraint is placed on </span><span class="rvts30">a template:</span></p>
<p class="rvps2"><span class="rvts30">1. </span><span class="rvts47">MAY</span><span class="rvts30">&nbsp;contain zero or one [0..1] Certifier performer </span><span class="rvts48">(identifier: urn:hl7ii:XXXX:YYYY)(CONF:XXX-XXXX)</span><span class="rvts30">such that it</span></p>
<p class="rvps16"><span class="rvts6">a. </span><span class="rvts19">SHALL</span><span class="rvts6">&nbsp;contain exactly one [1..1] </span><span class="rvts19">@root</span><span class="rvts6">&nbsp;(CONF:XXX-XXXY). </span></p>
<p class="rvps2"><span class="rvts6">In this example, Schematron enforces that @root exists when Certifier performer is present; these are both computable constraints that don’t have custom prose </span><span class="rvts30">or </span><span class="rvts6">custom Schematron.</span></p>
<p class="rvps2"><span class="rvts30">1. </span><span class="rvts47">MAY</span><span class="rvts30">&nbsp;contain zero or one [0..1] Certifier performer </span><span class="rvts48">(identifier: urn:hl7ii:XXXX:YYYY)(</span><a class="rvts49" href="CONF:XXX-XXXX">CONF:XXX-XXXX</a><span class="rvts48">) </span><span class="rvts50">when the document type is XXXX</span><span class="rvts30">, such that it</span></p>
<p class="rvps16"><span class="rvts6">a. </span><span class="rvts19">SHALL</span><span class="rvts6">&nbsp;contain exactly one [1..1] </span><span class="rvts19">@root</span><span class="rvts6">&nbsp;(CONF:XXX-XXXY). </span></p>
<p class="rvps2"><span class="rvts6">In this example, “when the document type is XXXX” must be represented by a primitive constraint. Because the parent constraint (the MAY constraint) is a primitive constraint, the Schematron cannot enforce @root exists when Ceritifier performer is present.</span></p>
<h3 class="rvps8"><span class="rvts0"><span class="rvts29">Solution 1</span></span></h3>
<ol style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: decimal;">
<li value="1" class="rvps17"><span class="rvts31">Create custom Schematron rule at the IG level</span></li>
<li value="2" class="rvps17"><span class="rvts31">Suggested: Add a note on the MAY primitive constraint saying that the IG Schematron will check the SHALL primitive is honored when the MAY primitive is present.</span></li>
</ol>
<h3 class="rvps8"><span class="rvts0"><span class="rvts29">Solution 2</span></span></h3>
<p class="rvps2"><span class="rvts6">Do not nest SHALL primitives within a MAY primitive. Rather, such SHALL primitives should exist as their own constraint at the top level within the template. </span></p>
<p class="rvps18"><span class="rvts19">Example:</span></p>
<p class="rvps18"><span class="rvts6">10. The performer containing the Certifier Performer template </span><span class="rvts51">SHALL</span><span class="rvts6">&nbsp;be present for a live birth certificate but </span><span class="rvts51">SHALL NOT</span><span class="rvts6">&nbsp;be present for a fetal death report (CONF:XXX-XXXXX).</span></p>
<p></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">Copyright &copy; 2019 by Lantana Consulting Group. All Rights Reserved.</div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="vendors/jquery-3.4.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.1/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.7/imageMapResizer.min.js"></script>
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  
  <!-- Headroom -->
  <script src="vendors/headroom-0.9.4/headroom.min.js"></script>
  <script src="vendors/headroom-0.9.4/jquery.headroom.min.js"></script>

  <!-- JsTree -->
  <script src="vendors/jstree-3.3.7/jstree.min.js"></script>

  <!-- HelpNDoc scripts -->
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Scripts -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App();
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

